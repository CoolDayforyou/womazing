import React, { useContext, useEffect } from "react"
import AppContext from "../../context";
import { Link } from "react-router-dom";
import styles from "./Header.module.scss";

const Header = () => {
	const { setPopupCall, mainPages,
		desc, setDesc
	} = useContext(AppContext)

	return (
		<nav className={styles.header}>
			<div className={styles.headerLogo}>
				<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
					<g clipPath="url(#clip0_1251_416)">
						<path d="M21.5169 22.6493L21.1587 20.9776C20.4207 17.5332 19.0683 14.2964 17.1387 11.3529V8.64058C18.0275 7.97178 18.6035 6.9084 18.6035 5.71289V4.24805C18.6035 3.84355 18.2756 3.51562 17.8711 3.51562H17.1387V0.732422C17.1387 0.32793 16.8107 0 16.4062 0C16.0018 0 15.6738 0.32793 15.6738 0.732422V3.52339C14.3584 3.6001 13.2059 4.29209 12.5 5.31528C11.7941 4.29209 10.6416 3.6001 9.32617 3.52339V0.732422C9.32617 0.32793 8.99824 0 8.59375 0C8.18926 0 7.86133 0.32793 7.86133 0.732422V3.51562H7.1289C6.72441 3.51562 6.39648 3.84355 6.39648 4.24805V5.71289C6.39648 6.9084 6.97246 7.97178 7.86133 8.64058V11.3529C5.93174 14.2964 4.57934 17.5332 3.84126 20.9776L3.48305 22.6493C3.40649 23.0066 3.60507 23.3658 3.94853 23.4909C6.69741 24.4923 9.57451 25 12.5 25C15.4255 25 18.3026 24.4923 21.0515 23.4909C21.3949 23.3658 21.5935 23.0067 21.5169 22.6493ZM15.918 4.98047H17.1387V5.71289C17.1387 6.92446 16.153 7.91016 14.9414 7.91016H13.2324V7.66602C13.2324 6.1852 14.4372 4.98047 15.918 4.98047ZM7.86133 4.98047H9.08203C10.5628 4.98047 11.7676 6.1852 11.7676 7.66602V7.91016H10.0586C8.84702 7.91016 7.86133 6.92446 7.86133 5.71289V4.98047ZM10.0586 9.375H14.9414C15.1922 9.375 15.4371 9.34956 15.6738 9.30132V10.8398H9.32617V9.30132C9.56289 9.34956 9.80781 9.375 10.0586 9.375ZM12.5 23.5352C9.95849 23.5352 7.45561 23.128 5.05073 22.3244L5.27353 21.2846C5.96118 18.0757 7.21054 15.0566 8.98901 12.3047L16.0109 12.3047C17.7894 15.0566 19.0388 18.0757 19.7264 21.2845L19.9492 22.3244C17.5444 23.128 15.0415 23.5352 12.5 23.5352Z" fill="black" />
					</g>
					<defs>
						<clipPath id="clip0_1251_416">
							<rect width="25" height="25" fill="white" />
						</clipPath>
					</defs>
				</svg>

				<p>Womazing</p>
			</div>
			<ul>
				{mainPages.map(item =>
					<li key={item.id}
						className={item.link === desc
							? `${styles.active}`
							: ""
						}
					>
						<Link to={item.link}
							onClick={() => setDesc(item.link)}
						>
							{item.page}
						</Link>
					</li>
				)}
			</ul>

			<div className={styles.contacts}>
				<svg
					onClick={() => setPopupCall(true)}
					width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
					<g clipPath="url(#clip0_1251_343)">
						<path d="M8.25235 7.81643C6.75052 9.31823 6.75052 11.7618 8.25232 13.2636L9.05001 12.4659C7.9881 11.404 7.98807 9.67613 9.05004 8.61417C10.112 7.55224 11.8399 7.55224 12.9018 8.61414L13.6995 7.81646C12.1977 6.31463 9.75412 6.31466 8.25235 7.81643Z" fill="#6E9C9F" />
						<path d="M9.84133 9.39119C9.20916 10.0234 9.20913 11.052 9.8413 11.6842L10.639 10.8865C10.5458 10.7934 10.4945 10.6695 10.4945 10.5377C10.4945 10.406 10.5459 10.2821 10.639 10.1889C10.7322 10.0958 10.8561 10.0444 10.9878 10.0444C11.1196 10.0444 11.2435 10.0958 11.3366 10.1889L12.1343 9.39122C11.5022 8.75902 10.4735 8.75902 9.84133 9.39119Z" fill="#6E9C9F" />
						<path d="M19.7482 7.43513L17.855 5.54848L13.9233 9.47367L15.4475 11.0478C15.1921 11.5013 14.6378 12.3699 13.6933 13.3145C12.7486 14.2592 11.8736 14.8197 11.4158 15.0792L9.87255 13.5556L6.0022 17.4029L7.88504 19.2983C8.60479 20.0181 9.69992 20.2046 10.6101 19.7625C11.9991 19.0879 14.0954 17.8431 16.1942 15.7443C18.2931 13.6455 19.5378 11.5492 20.2124 10.1602C20.3723 9.83109 20.4499 9.47787 20.4499 9.12692C20.4499 8.5072 20.2077 7.89464 19.7482 7.43513ZM19.1977 9.66732C18.5609 10.9785 17.3845 12.9587 15.3965 14.9466C13.4086 16.9345 11.4284 18.1109 10.1173 18.7477C9.63929 18.9799 9.06281 18.8806 8.68414 18.5019L7.59739 17.4079L9.87537 15.1436L11.1901 16.4415L11.5418 16.2849C11.599 16.2595 12.9594 15.6438 14.4911 14.1121C16.0238 12.5795 16.6266 11.2305 16.6515 11.1739L16.804 10.8268L15.5067 9.48705L17.8558 7.14178L18.9511 8.23327C19.3306 8.6133 19.4298 9.18952 19.1977 9.66732Z" fill="#6E9C9F" />
					</g>
					<defs>
						<clipPath id="clip0_1251_343">
							<rect width="17" height="17" fill="white" transform="translate(6 3)" />
						</clipPath>
					</defs>
				</svg>
				<a href="tel:+74958235412">+7 (495) 823-54-12</a>
			</div>
			<a href="#" className={styles.cart}>
				<img src="/img/cart.svg" alt="Cart" />
			</a>
		</nav>
	)
}

export default Header;